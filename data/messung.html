<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Laufende Messung</title>
    <link rel="stylesheet" href="style.css">
    <script>
        // Aktualisiert die Seite alle 15 Sekunden
        setTimeout(function () {
            location.reload();
        }, 15000);
    </script>
</head>

<body>

    <div class="container">
        <div>
            <span class="info-label">MessungsNr.</span>
            <p style="margin: 0;"><b>{{MEASUREMENT_ID}}</b></p>
        </div>
        <div>
            <span class="info-label">Gestartet</span>
            <p style="margin: 0;"><b>{{START_TIME}} am {{START_DATE}}</b></p>
        </div>

        <div class="status-display">
            <div class="label">Dauer bis Backreife</div>
            <div class="time">{{REST_TIME}}</div>
            <div class="label">Backreife um</div>
            <div class="time" style="font-size: 2rem; color: #333;">{{BAKE_TIME}}</div>
        </div>

        <div class="section">
            <h2>Aktuelle Messwerte</h2>
            <table class="form-table">
                <tr>
                    <td><span class="info-label">Widerstand:</span></td>
                    <td><b>{{RESISTANCE}} Ω</b></td>
                </tr>
                <tr>
                    <td><span class="info-label">CO₂:</span></td>
                    <td><b>{{CO2}} ppm</b></td>
                </tr>
                <tr>
                    <td><span class="info-label">Ethanol:</span></td>
                    <td><b>{{ETHANOL}} ppm</b></td>
                </tr>
                <tr>
                    <td><span class="info-label">Lufttemperatur:</span></td>
                    <td><b>{{TEMP_AMB}} °C</b></td>
                </tr>
                <tr>
                    <td><span class="info-label">Objekttemperatur:</span></td>
                    <td><b>{{TEMP_OBJ}} °C</b></td>
                </tr>
                <tr>
                    <td><span class="info-label">Luftfeuchtigkeit:</span></td>
                    <td><b>{{HUMIDITY}} %</b></td>
                </tr>
            </table>
        </div>

        <form action="/" method="post">
            <div class="section">
                <h3>PH-Wert Messung</h3>
                <div class="input-group">
                    <input class="input_field" type="number" step="0.1" name="ph_wert" placeholder="z.B. 6,50">
                    <button class="button" type="submit" name="action" value="log_ph">Wert loggen</button>
                </div>
                <span class="info-label">Letzter Wert: <b>{{LAST_PH}}</b> um <b>{{LAST_PH_TIME}}</b></span>
            </div>
        </form>

        <form action="/" method="post">
            <div class="section">
                <h3>Backzeitpunkt</h3>
                <div class="input-group">
                    <button class="button" type="submit" name="action" value="baketime">Zeitpunkt loggen</button>
                </div>
                <span class="info-label">gebacken um: <b>{{LAST_BAKE_TIME}}</b></span>
            </div>
        </form>

        <form action="/" method="post">
            <div class="section" style="text-align: center;">
                <button class="button button-danger" type="submit" name="action" value="end">Messung
                    beenden</button>
            </div>
        </form>
    </div>

</body>

</html>